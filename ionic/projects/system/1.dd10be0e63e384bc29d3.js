(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"9nqD":function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return c}),i.d(t,"c",function(){return p});var s=i("fXoL"),a=i("3Pt+"),r=i("ofXK");let n=new s.s("currency.mask.config");class h{constructor(e){this.htmlInputElement=e}setCursorAt(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){let t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}}updateValueAndCursor(e,t,i){this.rawValue=e,this.setCursorAt(i-=t-e.length)}get canInputMoreNumbers(){let e=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,s=!(t==i||!this.htmlInputElement.value.substring(t,i).match(/\d/)),a="0"==this.htmlInputElement.value.substring(0,1);return e||s||a}get inputSelection(){let e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{let i=document.getSelection().anchorNode;if(i&&i.firstChild==this.htmlInputElement){let i=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),a=this.htmlInputElement.createTextRange(),r=this.htmlInputElement.createTextRange();r.collapse(!1),a.compareEndPoints("StartToEnd",r)>-1?e=t=i:(e=-a.moveStart("character",-i),e+=s.slice(0,e).split("\n").length-1,a.compareEndPoints("EndToEnd",r)>-1?t=i:(t=-a.moveEnd("character",-i),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)}get storedRawValue(){return this._storedRawValue}}class l{constructor(e,t){this.htmlInputElement=e,this.options=t,this.inputManager=new h(e)}addNumber(e){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let t=String.fromCharCode(e),i=this.inputSelection.selectionStart,s=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,i)+t+this.rawValue.substring(s,this.rawValue.length),this.updateFieldValue(i+1)}applyMask(e,t){let{allowNegative:i,decimal:s,precision:a,prefix:r,suffix:n,thousands:h}=this.options,l=(t=e?new Number(t).toFixed(a):t).replace(/[^0-9]/g,"");if(!l)return"";let o=l.slice(0,l.length-a).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,h);""==o&&(o="0");let u=o,c=l.slice(l.length-a);a>0&&(c="0".repeat(a-c.length)+c,u+=s+c);let p=0==parseInt(o)&&(0==parseInt(c)||""==c);return(t.indexOf("-")>-1&&i&&!p?"-":"")+r+u+n}clearMask(e){if(null==e||""==e)return null;let t=e.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),parseFloat(t)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let e=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(e+1)}}changeToPositive(){let e=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(e-1)}fixCursorPosition(e){let t=this.inputSelection.selectionStart;t>this.getRawValueWithoutSuffixEndPosition()||e?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):t<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(e){let{decimal:t,thousands:i}=this.options,s=this.inputSelection.selectionEnd,a=this.inputSelection.selectionStart;a>this.rawValue.length-this.options.suffix.length&&(s=this.rawValue.length-this.options.suffix.length,a=this.rawValue.length-this.options.suffix.length),s==a&&(46!=e&&63272!=e||!/^\d+$/.test(this.rawValue.substring(a,s+1))||(s+=1),46!=e&&63272!=e||this.rawValue.substring(a,s+1)!=t&&this.rawValue.substring(a,s+1)!=i||(s+=2,a+=1),8==e&&/^\d+$/.test(this.rawValue.substring(a-1,s))&&(a-=1),8!=e||this.rawValue.substring(a-1,s)!=t&&this.rawValue.substring(a-1,s)!=i||(a-=2,s-=1)),this.rawValue=this.rawValue.substring(0,a)+this.rawValue.substring(s,this.rawValue.length),this.updateFieldValue(a)}updateFieldValue(e){let t=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(t,this.rawValue.length,e=null==e?this.rawValue.length:e)}updateOptions(e){let t=this.value;this.options=e,this.value=t}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(e){this.inputManager.rawValue=e}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(e){this.rawValue=this.applyMask(!0,""+e)}}class o{constructor(e,t){this.inputService=new l(e,t),this.htmlInputElement=e}handleClick(e,t){0!=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)||isNaN(this.inputService.value)||this.inputService.fixCursorPosition(t)}handleCut(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(e){if(this.isReadOnly())return;let t=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),i=this.inputService.rawValue.length,s=this.inputService.inputSelection.selectionEnd,a=this.inputService.getRawValueWithoutSuffixEndPosition(),r=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,s==a&&1==Math.abs(i-r)||0==r){if(i<r&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),i>r)switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/))return;this.inputService.addNumber(t)}this.setCursorPosition(e),this.onModelChange(this.inputService.value)}else this.setCursorPosition(e)}handleKeydown(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(8==t||46==t||63272==t){e.preventDefault();let i=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);i!=this.inputService.rawValue.length&&0!=this.inputService.value||(this.setValue(null),this.onModelChange(this.inputService.value)),0!=i||isNaN(this.inputService.value)||(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)),8!==t&&46!==t||0==i||isNaN(this.inputService.value)||(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value))}}handleKeypress(e){if(this.isReadOnly())return;let t=e.which||e.charCode||e.keyCode;if(null!=t&&-1==[9,13].indexOf(t)&&!this.isArrowEndHomeKeyInFirefox(e)){switch(t){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(t).match(/\d/)||this.inputService.addNumber(t)}e.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(e){this.inputService.fixCursorPosition()}handlePaste(e){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(e){this.inputService.updateOptions(e)}getOnModelChange(){return this.onModelChange}setOnModelChange(e){this.onModelChange=e}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(e){this.onModelTouched=e}setValue(e){this.inputService.value=e}getNewKeyCode(e,t){if(e.length>t.length)return null;for(let i=0;i<t.length;i++)if(e.length==i||e[i]!=t[i])return t.charCodeAt(i)}isArrowEndHomeKeyInFirefox(e){return-1!=[35,36,37,38,39,40].indexOf(e.keyCode)&&(null==e.charCode||0==e.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(e){let t=this.inputService.getRawValueWithoutSuffixEndPosition();setTimeout(function(){e.target.setSelectionRange(t,t)},0)}}const u={provide:a.e,useExisting:Object(s.U)(()=>c),multi:!0};let c=(()=>{class e{constructor(e,t,i){this.currencyMaskConfig=e,this.elementRef=t,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},e&&(this.optionsTemplate=e),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new o(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(e){this.inputHandler.getOnModelTouched().apply(e)}handleClick(e){this.inputHandler.handleClick(e,this.isChromeAndroid())}handleCut(e){this.isChromeAndroid()||this.inputHandler.handleCut(e)}handleInput(e){this.isChromeAndroid()&&this.inputHandler.handleInput(e)}handleKeydown(e){this.isChromeAndroid()||this.inputHandler.handleKeydown(e)}handleKeypress(e){this.isChromeAndroid()||this.inputHandler.handleKeypress(e)}handleKeyup(e){this.isChromeAndroid()||this.inputHandler.handleKeyup(e)}handlePaste(e){this.isChromeAndroid()||this.inputHandler.handlePaste(e)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(e){this.inputHandler.setOnModelChange(e)}registerOnTouched(e){this.inputHandler.setOnModelTouched(e)}setDisabledState(e){this.elementRef.nativeElement.disabled=e}validate(e){let t={};return e.value>this.max&&(t.max=!0),e.value<this.min&&(t.min=!0),t!={}?t:null}writeValue(e){this.inputHandler.setValue(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(n,8),s.Lb(s.m),s.Lb(s.v))},e.\u0275dir=s.Gb({type:e,selectors:[["","currencyMask",""]],hostBindings:function(e,t){1&e&&s.Zb("blur",function(e){return t.handleBlur(e)})("click",function(e){return t.handleClick(e)})("cut",function(e){return t.handleCut(e)})("input",function(e){return t.handleInput(e)})("keydown",function(e){return t.handleKeydown(e)})("keypress",function(e){return t.handleKeypress(e)})("keyup",function(e){return t.handleKeyup(e)})("paste",function(e){return t.handlePaste(e)})},inputs:{options:"options",max:"max",min:"min"},features:[s.yb([u,{provide:a.d,useExisting:e,multi:!0}])]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({imports:[[r.b,a.b]]}),e})()},HJNQ:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var s=i("ofXK"),a=i("3Pt+"),r=i("TEn/"),n=i("fXoL");let h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({}),e})();var l=i("tmjD"),o=i("9nqD");const u=new n.s("TooltipOptions");let c=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:u,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({imports:[[s.b]]}),e})();var p=i("6NWb");const m={align:"right",allowNegative:!0,decimal:",",precision:2,prefix:"R$ ",suffix:"",thousands:"."};let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Jb({type:e}),e.\u0275inj=n.Ib({providers:[{provide:o.a,useValue:m}],imports:[[s.b,a.b,r.P,h,l.b.forRoot(),o.c,c,p.c],s.b,a.b,r.P,h,l.b,o.c,p.c]}),e})()},tmjD:function(e,t,i){"use strict";i.d(t,"a",function(){return f}),i.d(t,"b",function(){return g});var s=i("fXoL"),a=i("mrSG"),r=i("3Pt+"),n=i("ofXK");const h=new s.s("config"),l=new s.s("NEW_CONFIG"),o=new s.s("INITIAL_CONFIG"),u={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},c=["Hh:m0:s0","Hh:m0","m0:s0"],p=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let m=(()=>{class e{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(e,t,i,s)=>{const a=e.split(i),r=a.length>1?`${i}${a[1]}`:"";let n=a[0];const h=this.separatorLimit.replace(/\s/g,"");h&&+h&&(n="-"===n[0]?`-${n.slice(1,n.length).slice(0,h.length)}`:n.slice(0,h.length));const l=/(\d+)(\d{3})/;for(;t&&l.test(n);)n=n.replace(l,"$1"+t+"$2");return void 0===s?n+r:0===s?n:n+r.substr(0,s+1)},this.percentage=e=>Number(e)>=0&&Number(e)<=100,this.getPrecision=e=>{const t=e.split(".");return t.length>1?Number(t[t.length-1]):1/0},this.checkAndRemoveSuffix=e=>{var t,i,s;for(let a=(null===(t=this.suffix)||void 0===t?void 0:t.length)-1;a>=0;a--){const t=this.suffix.substr(a,null===(i=this.suffix)||void 0===i?void 0:i.length);if(e.includes(t)&&(a-1<0||!e.includes(this.suffix.substr(a-1,null===(s=this.suffix)||void 0===s?void 0:s.length))))return e.replace(t,"")}return e},this.checkInputPrecision=(e,t,i)=>{if(t<1/0){const s=new RegExp(this._charToRegExpExpression(i)+`\\d{${t}}.*$`),a=e.match(s);a&&a[0].length-1>t&&(e=e.substring(0,e.length-(a[0].length-1-t))),0===t&&e.endsWith(i)&&(e=e.substring(0,e.length-1))}return e},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(e,t){const[i,s]=t;return this.customPattern=s,this.applyMask(e,i)}applyMask(e,t,i=0,s=!1,a=!1,r=(()=>{})){if(null==e||void 0===t)return"";let n=0,h="",l=!1,o=!1,u=1,c=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&(null==e?void 0:e.length)>0&&(e=this.checkAndRemoveSuffix(e));const p=e.toString().split("");"IP"===t&&(this.ipError=!!(p.filter(e=>"."===e).length<3&&p.length<7),t="099.099.099.099");const m=[];for(let S=0;S<e.length;S++)e[S].match("\\d")&&m.push(e[S]);if("CPF_CNPJ"===t&&(this.cpfCnpjError=!(11===m.length||14===m.length),t=m.length>11?"00.000.000/0000-00":"000.000.000-00"),t.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const i=this.getPrecision(t);e=this.checkInputPrecision(e,i,this.decimalMarker)}if(e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))){const t=e.substring(0,e.indexOf(".")-1);e=`${t}${e.substring(e.indexOf("."),e.length)}`}h=this.percentage(e)?e:e.substring(0,e.length-1)}else if(t.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker?e.slice(1,e.length):e;const s=this._charToRegExpExpression(this.thousandSeparator),a=this._charToRegExpExpression(this.decimalMarker),r='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(s,"").replace(a,""),n=new RegExp("["+r+"]");e.match(n)&&(e=e.substring(0,e.length-1));const l=this.getPrecision(t),c=(e=this.checkInputPrecision(e,l,this.decimalMarker)).replace(new RegExp(s,"g"),"");h=this._formatWithSeparators(c,this.thousandSeparator,this.decimalMarker,l);const p=h.indexOf(",")-e.indexOf(","),m=h.length-e.length;if(m>0&&","!==h[i]){o=!0;let e=0;do{this._shift.add(i+e),e++}while(e<m)}else 0!==p&&i>0&&!(h.indexOf(",")>=i&&i>3)||!(h.indexOf(".")>=i&&i>3)&&m<=0?(this._shift.clear(),o=!0,u=m,this._shift.add(i+=m)):this._shift.clear()}else for(let S=0,v=p[0];S<p.length&&n!==t.length;S++,v=p[S])if(this._checkSymbolMask(v,t[n])&&"?"===t[n+1])h+=v,n+=2;else if("*"===t[n+1]&&l&&this._checkSymbolMask(v,t[n+2]))h+=v,n+=3,l=!1;else if(this._checkSymbolMask(v,t[n])&&"*"===t[n+1])h+=v,l=!0;else if("?"===t[n+1]&&this._checkSymbolMask(v,t[n+2]))h+=v,n+=3;else if(this._checkSymbolMask(v,t[n])){if("H"===t[n]&&Number(v)>2){n+=1,this._shiftStep(t,n,p.length),S--,this.leadZeroDateTime&&(h+="0");continue}if("h"===t[n]&&"2"===h&&Number(v)>3){n+=1,S--;continue}if("m"===t[n]&&Number(v)>5){n+=1,this._shiftStep(t,n,p.length),S--,this.leadZeroDateTime&&(h+="0");continue}if("s"===t[n]&&Number(v)>5){n+=1,this._shiftStep(t,n,p.length),S--,this.leadZeroDateTime&&(h+="0");continue}const i=31;if("d"===t[n]&&(Number(v)>3&&this.leadZeroDateTime||Number(e.slice(n,n+2))>i||"/"===e[n+1])){n+=1,this._shiftStep(t,n,p.length),S--,this.leadZeroDateTime&&(h+="0");continue}if("M"===t[n]){const s=12,a=0===n&&(Number(v)>2||Number(e.slice(n,n+2))>s||"/"===e[n+1]),r=e.slice(n-3,n-1).includes("/")&&("/"===e[n-2]&&Number(e.slice(n-1,n+1))>s&&"/"!==e[n]||"/"===e[n]||"/"===e[n-3]&&Number(e.slice(n-2,n))>s&&"/"!==e[n-1]||"/"===e[n-1]),l=Number(e.slice(n-3,n-1))<=i&&!e.slice(n-3,n-1).includes("/")&&"/"===e[n-1]&&(Number(e.slice(n,n+2))>s||"/"===e[n+1]),o=Number(e.slice(n-3,n-1))>i&&!e.slice(n-3,n-1).includes("/")&&!e.slice(n-2,n).includes("/")&&Number(e.slice(n-2,n))>s,u=Number(e.slice(n-3,n-1))<=i&&!e.slice(n-3,n-1).includes("/")&&"/"!==e[n-1]&&Number(e.slice(n-1,n+1))>s;if(Number(v)>1&&this.leadZeroDateTime||a||r||l||o||u){n+=1,this._shiftStep(t,n,p.length),S--,this.leadZeroDateTime&&(h+="0");continue}}h+=v,n++}else-1!==this.maskSpecialCharacters.indexOf(t[n])?(h+=t[n],n++,this._shiftStep(t,n,p.length),S--):this.maskSpecialCharacters.indexOf(v)>-1&&this.maskAvailablePatterns[t[n]]&&this.maskAvailablePatterns[t[n]].optional?(p[n]&&"099.099.099.099"!==t&&"000.000.000-00"!==t&&"00.000.000/0000-00"!==t&&(h+=p[n]),n++,S--):"*"===this.maskExpression[n+1]&&this._findSpecialChar(this.maskExpression[n+2])&&this._findSpecialChar(v)===this.maskExpression[n+2]&&l||"?"===this.maskExpression[n+1]&&this._findSpecialChar(this.maskExpression[n+2])&&this._findSpecialChar(v)===this.maskExpression[n+2]&&l?(n+=3,h+=v):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(v)<0&&v!==this.placeHolderCharacter&&(c=!0);h.length+1===t.length&&-1!==this.maskSpecialCharacters.indexOf(t[t.length-1])&&(h+=t[t.length-1]);let d=i+1;for(;this._shift.has(d);)u++,d++;let f=s?n:this._shift.has(i)?u:0;c&&f--,r(f,o),u<0&&this._shift.clear();let g=!1;a&&(g=p.every(e=>this.maskSpecialCharacters.includes(e)));let k=`${this.prefix}${g?"":h}${this.suffix}`;return 0===h.length&&(k=`${this.prefix}${h}`),k}_findSpecialChar(e){return this.maskSpecialCharacters.find(t=>t===e)}_checkSymbolMask(e,t){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[t]&&this.maskAvailablePatterns[t].pattern&&this.maskAvailablePatterns[t].pattern.test(e)}_stripToDecimal(e){return e.split("").filter((e,t)=>e.match("^-?\\d")||e.match("\\s")||"."===e||","===e||"-"===e&&0===t&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(e){if(e){const t="[\\^$.|?*+()";return" "===e?"\\s":t.indexOf(e)>=0?"\\"+e:e}return e}_shiftStep(e,t,i){const s=/[*?]/g.test(e.slice(0,t))?i:t;this._shift.add(s+this.prefix.length||0)}}return e.\u0275fac=function(t){return new(t||e)(s.Vb(h))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac}),e})(),d=(()=>{class e extends m{constructor(e,t,i,s){super(t),this.document=e,this._config=t,this._elementRef=i,this._renderer=s,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.onChange=e=>{}}applyMask(e,t,i=0,s=!1,a=!1,r=(()=>{})){if(!t)return e;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(e||"#")),!e&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const n=e&&"number"==typeof this.selStart?e[this.selStart]:"";let h="";if(this.hiddenInput&&!this.writingValue){let t=this.actualValue.split("");""!==e&&t.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(e.length>t.length?t.splice(this.selStart,0,n):e.length<t.length&&(t.length-e.length==1?t.splice(this.selStart-1,1):t.splice(this.selStart,this.selEnd-this.selStart))):t=[],h=this.actualValue.length&&t.length<=e.length?this.shiftTypedSymbols(t.join("")):e}h=Boolean(h)&&h.length?h:e;const l=super.applyMask(h,t,i,s,a,r);if(this.actualValue=this.getActualValue(l),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(e=>e!==this.decimalMarker)),this.formControlResult(l),!this.showMaskTyped)return this.hiddenInput&&l&&l.length?this.hideInput(l,this.maskExpression):l;const o=l.length,u=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const e=this._numberSkipedSymbols(l);return l+u.slice(o+e)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?l+u:l+u.slice(o)}_numberSkipedSymbols(e){const t=/(^|\D)(\d\D)/g;let i=t.exec(e),s=0;for(;null!=i;)s+=1,i=t.exec(e);return s}applyValueChanges(e=0,t,i,s=(()=>{})){const a=this._elementRef.nativeElement;a.value=this.applyMask(a.value,this.maskExpression,e,t,i,s),a!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(e,t){return e.split("").map((e,i)=>this.maskAvailablePatterns&&this.maskAvailablePatterns[t[i]]&&this.maskAvailablePatterns[t[i]].symbol?this.maskAvailablePatterns[t[i]].symbol:e).join("")}getActualValue(e){const t=e.split("").filter((e,t)=>this._checkSymbolMask(e,this.maskExpression[t])||this.maskSpecialCharacters.includes(this.maskExpression[t])&&e===this.maskExpression[t]);return t.join("")===e?t.join(""):e}shiftTypedSymbols(e){let t="";return(e&&e.split("").map((i,s)=>{if(this.maskSpecialCharacters.includes(e[s+1])&&e[s+1]!==this.maskExpression[s+1])return t=i,e[s+1];if(t.length){const e=t;return t="",e}return i})||[]).join("")}showMaskInInput(e){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(e){if("IP"===this.maskExpression)return this._checkForIp(e);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(e)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const e=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==e.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(e.value,this.maskExpression))}set formElementProperty([e,t]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,e,t))}checkSpecialCharAmount(e){return e.split("").filter(e=>this._findSpecialChar(e)).length}removeMask(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(e){if("#"===e)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const t=[];for(let i=0;i<e.length;i++)e[i].match("\\d")&&t.push(e[i]);return t.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>3&&t.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:t.length>6&&t.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(e){const t=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,i=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===e)return t;const s=[];for(let a=0;a<e.length;a++)e[a].match("\\d")&&s.push(e[a]);return s.length<=3?t.slice(s.length,t.length):s.length>3&&s.length<=6?t.slice(s.length+1,t.length):s.length>6&&s.length<=9?t.slice(s.length+2,t.length):s.length>9&&s.length<11?t.slice(s.length+3,t.length):11===s.length?"":12===s.length?i.slice(17===e.length?16:15,i.length):s.length>12&&s.length<=14?i.slice(s.length+4,i.length):""}formControlResult(e){this.writingValue||(Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(e)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(e)):this._removeSuffix(e)))}_toNumber(e){if(!this.isNumberValue||""===e)return e;const t=Number(e);return Number.isNaN(t)?e:t}_removeMask(e,t){return e?e.replace(this._regExpForRemove(t),""):e}_removePrefix(e){return this.prefix&&e?e.replace(this.prefix,""):e}_removeSuffix(e){return this.suffix&&e?e.replace(this.suffix,""):e}_retrieveSeparatorValue(e){return this._removeMask(this._removeSuffix(this._removePrefix(e)),this.maskSpecialCharacters)}_regExpForRemove(e){return new RegExp(e.map(e=>`\\${e}`).join("|"),"gi")}_checkSymbols(e){if(""===e)return e;const t=this._retrieveSeparatorPrecision(this.maskExpression);let i=this._retrieveSeparatorValue(e);return"."!==this.decimalMarker&&(i=i.replace(this.decimalMarker,".")),this.isNumberValue?t?e===this.decimalMarker?null:this._checkPrecision(this.maskExpression,i):Number(i):i}_retrieveSeparatorPrecision(e){const t=e.match(new RegExp("^separator\\.([^d]*)"));return t?Number(t[1]):null}_checkPrecision(e,t){return e.indexOf("2")>0?Number(t).toFixed(2):Number(t)}}return e.\u0275fac=function(t){return new(t||e)(s.Vb(n.d),s.Vb(h),s.Vb(s.m),s.Vb(s.F))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac}),e})(),f=(()=>{class e{constructor(e,t,i){this.document=e,this._maskService=t,this._config=i,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=e=>{},this.onTouch=()=>{}}ngOnChanges(e){const{maskExpression:t,specialCharacters:i,patterns:s,prefix:a,suffix:r,thousandSeparator:n,decimalMarker:h,dropSpecialCharacters:l,hiddenInput:o,showMaskTyped:u,placeHolderCharacter:c,shownMaskExpression:p,showTemplate:m,clearIfNotMatch:d,validation:f,separatorLimit:g,allowNegativeNumbers:k,leadZeroDateTime:S}=e;if(t&&(this._maskValue=t.currentValue||"",t.currentValue&&t.currentValue.split("||").length>1&&(this._maskExpressionArray=t.currentValue.split("||").sort((e,t)=>e.length-t.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0])),i){if(!i.currentValue||!Array.isArray(i.currentValue))return;this._maskService.maskSpecialCharacters=i.currentValue||[]}s&&s.currentValue&&(this._maskService.maskAvailablePatterns=s.currentValue),a&&(this._maskService.prefix=a.currentValue),r&&(this._maskService.suffix=r.currentValue),n&&(this._maskService.thousandSeparator=n.currentValue),h&&(this._maskService.decimalMarker=h.currentValue),l&&(this._maskService.dropSpecialCharacters=l.currentValue),o&&(this._maskService.hiddenInput=o.currentValue),u&&(this._maskService.showMaskTyped=u.currentValue),c&&(this._maskService.placeHolderCharacter=c.currentValue),p&&(this._maskService.shownMaskExpression=p.currentValue),m&&(this._maskService.showTemplate=m.currentValue),d&&(this._maskService.clearIfNotMatch=d.currentValue),f&&(this._maskService.validation=f.currentValue),g&&(this._maskService.separatorLimit=g.currentValue),k&&(this._maskService.allowNegativeNumbers=k.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(e=>"-"!==e))),S&&(this._maskService.leadZeroDateTime=S.currentValue),this._applyMask()}validate({value:e}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(e);if(this._maskService.cpfCnpjError)return this._createValidationError(e);if(this._maskValue.startsWith("separator"))return null;if(p.includes(this._maskValue))return null;if(this._maskService.clearIfNotMatch)return null;if(c.includes(this._maskValue))return this._validateTime(e);if(e&&e.toString().length>=1){let t=0;for(const i in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[i].optional&&!0===this._maskService.maskAvailablePatterns[i].optional){if(this._maskValue.indexOf(i)!==this._maskValue.lastIndexOf(i)?t+=this._maskValue.split("").filter(e=>e===i).join("").length:-1!==this._maskValue.indexOf(i)&&t++,-1!==this._maskValue.indexOf(i)&&e.toString().length>=this._maskValue.indexOf(i))return null;if(t===this._maskValue.length)return null}if(1===this._maskValue.indexOf("{")&&e.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4)return null;if(1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&e.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&e.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(e);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const i=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-t:this._maskValue.length-t;if(e.toString().length<i)return this._createValidationError(e)}}return null}onPaste(){this._justPasted=!0}onInput(e){const t=e.target;if(this._inputValue=t.value,this._setMask(),!this._maskValue)return void this.onChange(t.value);const i=1===t.selectionStart?t.selectionStart+this._maskService.prefix.length:t.selectionStart;let s=0,a=!1;if(this._maskService.applyValueChanges(i,this._justPasted,"Backspace"===this._code,(e,t)=>{this._justPasted=!1,s=e,a=t}),this.document.activeElement!==t)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let r=this._position?this._inputValue.length+i+s:i+("Backspace"!==this._code||a?s:0);r>this._getActualInputLength()&&(r=this._getActualInputLength()),t.setSelectionRange(r,r),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onFocus(e){if(!this._maskValue)return;const t=e.target;null!==t&&null!==t.selectionStart&&t.selectionStart===t.selectionEnd&&t.selectionStart>this._maskService.prefix.length&&38!==e.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),t.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===t.value?(t.focus(),t.setSelectionRange(0,0)):t.selectionStart>this._maskService.actualValue.length&&t.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const i=t.value&&t.value!==this._maskService.prefix?t.value:this._maskService.prefix+this._maskService.maskIsShown;t.value!==i&&(t.value=i),(t.selectionStart||t.selectionEnd)<=this._maskService.prefix.length?t.selectionStart=this._maskService.prefix.length:t.selectionEnd>this._getActualInputLength()&&(t.selectionEnd=this._getActualInputLength())}onKeyDown(e){var t;if(!this._maskValue)return;this._code=e.code?e.code:e.key;const i=e.target;if(this._inputValue=i.value,this._setMask(),38===e.keyCode&&e.preventDefault(),37===e.keyCode||8===e.keyCode||46===e.keyCode){if(8===e.keyCode&&0===i.value.length&&(i.selectionStart=i.selectionEnd),8===e.keyCode&&0!==i.selectionStart)if(this.specialCharacters=(null===(t=this.specialCharacters)||void 0===t?void 0:t.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&i.selectionStart<=this.prefix.length)i.setSelectionRange(this.prefix.length,this.prefix.length);else{if(this._inputValue.length!==i.selectionStart&&1!==i.selectionStart)for(;this.specialCharacters.includes(this._inputValue[i.selectionStart-1].toString())&&(this.prefix.length>=1&&i.selectionStart>this.prefix.length||0===this.prefix.length);)i.setSelectionRange(i.selectionStart-1,i.selectionStart-1);this.suffixCheckOnPressDelete(e.keyCode,i)}this.suffixCheckOnPressDelete(e.keyCode,i),this._maskService.prefix.length&&i.selectionStart<=this._maskService.prefix.length&&i.selectionEnd<=this._maskService.prefix.length&&e.preventDefault();const s=i.selectionStart;8!==e.keyCode||i.readOnly||0!==s||i.selectionEnd!==i.value.length||0===i.value.length||(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<i.selectionStart?i.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===e.keyCode&&!0===e.ctrlKey||65===e.keyCode&&!0===e.metaKey)&&(i.setSelectionRange(0,this._getActualInputLength()),e.preventDefault()),this._maskService.selStart=i.selectionStart,this._maskService.selEnd=i.selectionEnd}writeValue(e){return Object(a.a)(this,void 0,void 0,function*(){"object"==typeof e&&null!==e&&"value"in e&&("disable"in e&&this.setDisabledState(Boolean(e.disable)),e=e.value),void 0===e&&(e=""),"number"==typeof e&&(e=String(e),e="."!==this.decimalMarker?e.replace(".",this.decimalMarker):e,this._maskService.isNumberValue=!0),this._inputValue=e,this._setMask(),e&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(e,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",e],this._inputValue=e})}registerOnChange(e){this.onChange=e,this._maskService.onChange=this.onChange}registerOnTouched(e){this.onTouch=e}suffixCheckOnPressDelete(e,t){46===e&&this.suffix.length>0&&this._inputValue.length-this.suffix.length<=t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),8===e&&(this.suffix.length>1&&this._inputValue.length-this.suffix.length<t.selectionStart&&t.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length),1===this.suffix.length&&this._inputValue.length===t.selectionStart&&t.setSelectionRange(t.selectionStart-1,t.selectionStart-1))}setDisabledState(e){this._maskService.formElementProperty=["disabled",e]}_repeatPatternSymbols(e){return e.match(/{[0-9]+}/)&&e.split("").reduce((t,i,s)=>{if(this._start="{"===i?s:this._start,"}"!==i)return this._maskService._findSpecialChar(i)?t+i:t;this._end=s;const a=Number(e.slice(this._start+1,this._end));return t+new Array(a+1).join(e[this._start-1])},"")||e}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(e){const t=this._maskValue.split("").filter(e=>":"!==e).length;return null===e||0===e.length?null:0==+e[e.length-1]&&e.length<t||e.length<=t-2?this._createValidationError(e):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(e){return{mask:{requiredMask:this._maskValue,actualValue:e}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(e=>{const t=this._maskService.removeMask(this._inputValue).length<=this._maskService.removeMask(e).length;if(this._inputValue&&t)return this._maskValue=e,this.maskExpression=e,this._maskService.maskExpression=e,t;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(n.d),s.Lb(d),s.Lb(h))},e.\u0275dir=s.Gb({type:e,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(e,t){1&e&&s.Zb("paste",function(){return t.onPaste()})("input",function(e){return t.onInput(e)})("blur",function(){return t.onBlur()})("click",function(e){return t.onFocus(e)})("keydown",function(e){return t.onKeyDown(e)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime"},features:[s.yb([{provide:r.e,useExisting:Object(s.U)(()=>e),multi:!0},{provide:r.d,useExisting:Object(s.U)(()=>e),multi:!0},d]),s.xb]}),e})(),g=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:o,useValue:u},{provide:h,useFactory:k,deps:[o,l]},m]}}static forChild(){return{ngModule:e}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({}),e})();function k(e,t){return Object.assign(Object.assign({},e),t instanceof Function?t():t)}const S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};S.KeyboardEvent||(S.KeyboardEvent=function(e,t){})}}]);