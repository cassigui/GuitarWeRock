(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/y4N":function(o,t,e){"use strict";e.r(t),e.d(t,"CreatePageModule",function(){return z});var n=e("HJNQ"),i=e("tyNb"),r=e("mrSG"),c=e("QJ2p"),s=e("yoGk"),a=e("rk6i"),l=e("CzqR"),d=e("fXoL"),u=e("kEUt"),b=e("IfTO"),p=e("TEn/"),h=e("M8+u"),m=e("GS04"),g=e("mzha"),v=e("ao1k"),f=e("3Pt+");const R=function(){return["/products"]};let C=(()=>{class o{constructor(o,t,e,n,i,r,s,a,l){this.productService=o,this.helperService=t,this.route=e,this.router=n,this.modalController=i,this.concentrationService=r,this.microorganismService=s,this.formulationService=a,this.productClassService=l,this.product=new c.a,this.editing=!1,this.sending_data=!1,this.product_classes=[],this.formulations=[],this.microorganisms=[],this.concentrations=[]}ionViewWillEnter(){this.id=this.route.snapshot.paramMap.get("id")?parseInt(this.route.snapshot.paramMap.get("id")):null,this.getConcentrations(),this.getProductClasses(),this.getFormulations(),this.getMicroorganisms(),this.id&&this.getProduct()}ngOnInit(){}getMicroorganisms(){this.microorganismService.get().then(o=>{o.error||(this.microorganisms=o.microorganisms.map(o=>new l.a(o)))},o=>{this.helperService.toastResponse(o)})}getProductClasses(){this.productClassService.get().then(o=>{o.error||(this.product_classes=o.product_classes.map(o=>new a.a(o)))},o=>{this.helperService.toastResponse(o)})}getFormulations(){this.formulationService.get().then(o=>{o.error||(this.formulations=o.formulations.map(o=>new a.a(o)))},o=>{this.helperService.toastResponse(o)})}getConcentrations(){this.concentrationService.get().then(o=>{o.error||(this.concentrations=o.concentrations.map(o=>new a.a(o)))},o=>{this.helperService.toastResponse(o)})}selectProductClass(){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:s.a,componentProps:{title:"Product Classes",options:this.product_classes}});yield o.present();const{data:t}=yield o.onWillDismiss();t&&(this.product.product_class=t,this.product.product_class_id=t.id)})}selectFormulation(){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:s.a,componentProps:{title:"Formulations",options:this.formulations}});yield o.present();const{data:t}=yield o.onWillDismiss();t&&(this.product.formulation=t,this.product.formulation_id=t.id)})}selectConcentration(){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:s.a,componentProps:{title:"Concentrations",options:this.concentrations}});yield o.present();const{data:t}=yield o.onWillDismiss();t&&(this.product.concentration=t,this.product.concentration_id=t.id)})}selectMicroorganism(){return Object(r.a)(this,void 0,void 0,function*(){const o=yield this.modalController.create({component:s.a,componentProps:{title:"Microorganisms",options:this.microorganisms}});yield o.present();const{data:t}=yield o.onWillDismiss();t&&(this.product.microorganism=t,this.product.microorganism_id=t.id)})}getProduct(){this.productService.find(["product_class","microorganism","formulation","concentration"],{id:this.id}).then(o=>this.product=new c.a(o.product),o=>this.helperService.responseErrors(o))}save(){this.sending_data=!0,this.productService.storeOrUpdate(this.product).then(o=>{this.sending_data=!1,o.error||this.router.navigate(["products"],{state:{force:!0}}),this.helperService.toast(o.erorr?"danger":"success",o.message)},o=>{this.sending_data=!1,this.helperService.responseErrors(o)})}}return o.\u0275fac=function(t){return new(t||o)(d.Lb(u.a),d.Lb(b.a),d.Lb(i.a),d.Lb(i.f),d.Lb(p.S),d.Lb(h.a),d.Lb(m.a),d.Lb(g.a),d.Lb(v.a))},o.\u0275cmp=d.Fb({type:o,selectors:[["ng-component"]],decls:52,vars:10,consts:[["mode","ios"],["slot","start"],["mode","ios","text","","icon","chevron-back-outline","routerLink","back",3,"routerLink"],[1,"ion-no-padding"],["color","white","mode","ios"],["size","12"],["color","medium",1,"fw-600"],["color","success",3,"ngModel","ngModelChange"],["type","text","placeholder","Code",1,"input-light",3,"ngModel","ngModelChange"],["type","text","placeholder","Name",1,"input-light",3,"ngModel","ngModelChange"],["size","6"],[1,"input-select",3,"click"],["name","caret-down-outline","color","medium",1,"ion-float-end"],["size-sm","4"],["expand","full","shape","round","mode","ios","color","success",3,"click"]],template:function(o,t){1&o&&(d.Rb(0,"ion-header"),d.Rb(1,"ion-toolbar",0),d.Rb(2,"ion-buttons",1),d.Mb(3,"ion-back-button",2),d.Qb(),d.Rb(4,"ion-title"),d.zc(5),d.Qb(),d.Qb(),d.Qb(),d.Rb(6,"ion-content",3),d.Rb(7,"ion-row"),d.Rb(8,"ion-col",3),d.Rb(9,"ion-card",4),d.Rb(10,"ion-card-content"),d.Rb(11,"ion-row"),d.Rb(12,"ion-col",5),d.Rb(13,"ion-label",6),d.zc(14,"Active"),d.Qb(),d.Rb(15,"ion-toggle",7),d.Zb("ngModelChange",function(o){return t.product.active=o}),d.Qb(),d.Qb(),d.Rb(16,"ion-col",5),d.Rb(17,"ion-label",6),d.zc(18,"Code"),d.Qb(),d.Rb(19,"ion-input",8),d.Zb("ngModelChange",function(o){return t.product.code=o}),d.Qb(),d.Qb(),d.Rb(20,"ion-col",5),d.Rb(21,"ion-label",6),d.zc(22,"Name"),d.Qb(),d.Rb(23,"ion-input",9),d.Zb("ngModelChange",function(o){return t.product.name=o}),d.Qb(),d.Qb(),d.Rb(24,"ion-col",10),d.Rb(25,"ion-label",6),d.zc(26,"Formulation"),d.Qb(),d.Rb(27,"div",11),d.Zb("click",function(){return t.selectFormulation()}),d.zc(28),d.Mb(29,"ion-icon",12),d.Qb(),d.Qb(),d.Rb(30,"ion-col",10),d.Rb(31,"ion-label",6),d.zc(32,"Microorganism"),d.Qb(),d.Rb(33,"div",11),d.Zb("click",function(){return t.selectMicroorganism()}),d.zc(34),d.Mb(35,"ion-icon",12),d.Qb(),d.Qb(),d.Rb(36,"ion-col",10),d.Rb(37,"ion-label",6),d.zc(38,"Class"),d.Qb(),d.Rb(39,"div",11),d.Zb("click",function(){return t.selectProductClass()}),d.zc(40),d.Mb(41,"ion-icon",12),d.Qb(),d.Qb(),d.Rb(42,"ion-col",10),d.Rb(43,"ion-label",6),d.zc(44,"Concentration"),d.Qb(),d.Rb(45,"div",11),d.Zb("click",function(){return t.selectConcentration()}),d.zc(46),d.Mb(47,"ion-icon",12),d.Qb(),d.Qb(),d.Qb(),d.Rb(48,"ion-row"),d.Rb(49,"ion-col",13),d.Rb(50,"ion-button",14),d.Zb("click",function(){return t.save()}),d.zc(51," Save "),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb()),2&o&&(d.zb(3),d.jc("routerLink",d.lc(9,R)),d.zb(2),d.Bc("",t.product.id?"Editing":"New"," Product"),d.zb(10),d.jc("ngModel",t.product.active),d.zb(4),d.jc("ngModel",t.product.code),d.zb(4),d.jc("ngModel",t.product.name),d.zb(5),d.Bc(" ",t.product.formulation_id?t.product.formulation.name:"Select formulation"," "),d.zb(6),d.Bc(" ",t.product.microorganism_id?t.product.microorganism.name:"Select microorganism"," "),d.zb(6),d.Bc(" ",t.product.product_class_id?t.product.product_class.name:"Select Class"," "),d.zb(6),d.Bc(" ",t.product.concentration_id?t.product.concentration.name:"Select Concentration"," "))},directives:[p.n,p.O,p.g,p.d,p.e,p.Y,i.g,p.M,p.k,p.F,p.j,p.h,p.i,p.x,p.N,p.b,f.g,f.h,p.r,p.Z,p.o,p.f],styles:[".test[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{width:100%;background-color:red!important}.test[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#00f}ng2-input-autocomplete[_ngcontent-%COMP%]{display:block;z-index:9999;position:absolute}"]}),o})();var Q=e("cU64");const M=[{path:"",component:C}];let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=d.Jb({type:o}),o.\u0275inj=d.Ib({imports:[[n.a,i.i.forChild(M),Q.a]]}),o})()}}]);