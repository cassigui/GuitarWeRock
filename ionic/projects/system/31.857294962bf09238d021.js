(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{bq1d:function(n,t,e){"use strict";e.r(t),e.d(t,"IndexPageModule",function(){return F});var i=e("tyNb"),o=e("HJNQ"),c=e("mrSG"),r=e("TEn/"),s=e("MiQi"),l=e("fXoL"),a=e("M8+u"),b=e("IfTO"),d=e("G2dz"),u=e("3Pt+"),h=e("ofXK");const f=["search"],p=function(){return["/concentrations/create"]};function g(n,t){1&n&&(l.Rb(0,"ion-button",23),l.Mb(1,"ion-icon",24),l.Qb()),2&n&&l.jc("routerLink",l.lc(1,p))}const m=function(n){return["/concentrations",n]};function v(n,t){if(1&n&&(l.Rb(0,"ion-button",29),l.Mb(1,"ion-icon",30),l.zc(2," edit "),l.Qb()),2&n){const n=l.dc().$implicit;l.jc("routerLink",l.mc(1,m,n.id))}}function x(n,t){if(1&n){const n=l.Sb();l.Rb(0,"ion-button",31),l.Zb("click",function(t){l.sc(n);const e=l.dc().$implicit;return l.dc().remove(e,t)}),l.Mb(1,"ion-icon",32),l.zc(2," remove "),l.Qb()}}const Q=function(){return{update:"concentrations"}},R=function(n){return[n]},z=function(){return{delete:"concentrations"}};function w(n,t){if(1&n&&(l.Rb(0,"ion-item",null,25),l.Rb(2,"ion-col",15),l.zc(3),l.Qb(),l.Rb(4,"ion-col",16),l.zc(5),l.Qb(),l.Rb(6,"ion-col",26),l.xc(7,v,3,3,"ion-button",27),l.xc(8,x,3,0,"ion-button",28),l.Qb(),l.Qb()),2&n){const n=t.$implicit;l.zb(3),l.Bc("#",n.id,""),l.zb(2),l.Bc(" ",n.name," "),l.zb(2),l.jc("ifAuth",l.mc(5,R,l.lc(4,Q))),l.zb(1),l.jc("ifAuth",l.mc(8,R,l.lc(7,z)))}}function k(n,t){1&n&&(l.Rb(0,"div"),l.Mb(1,"ion-skeleton-text",33),l.Qb())}function j(n,t){if(1&n&&(l.Pb(0),l.xc(1,k,2,0,"div",17),l.Ob()),2&n){const n=l.dc();l.zb(1),l.jc("ngForOf",n.trs)}}function M(n,t){if(1&n){const n=l.Sb();l.Rb(0,"ion-row",34),l.Rb(1,"ion-col",35),l.Rb(2,"ion-icon",36),l.Zb("click",function(){return l.sc(n),l.dc().content.scrollToTop(500)}),l.Qb(),l.Rb(3,"ion-label",37),l.zc(4," Todos registros foram listados "),l.Mb(5,"ion-icon",38),l.Qb(),l.Qb(),l.Qb()}if(2&n){const n=l.dc();l.zb(2),l.jc("hidden",n.concentrations.length<10)}}function S(n,t){1&n&&(l.Rb(0,"ion-row",39),l.Rb(1,"ion-col",35),l.Rb(2,"ion-label",40),l.zc(3,"  Não há registros. "),l.Qb(),l.Qb(),l.Qb())}const y=function(){return{create:"concentrations"}},I=[{path:"",component:(()=>{class n{constructor(n,t){this.chemicalGroupService=n,this.helperService=t,this.concentrations=[],this.loading=!1,this.filters={name:null},this.total_of_data=0,this._paginate={take:30,page:1},this.trs=new Array(5),this.tds=new Array(1)}ngOnInit(){}ionViewWillEnter(){this.paginate(null,null)}getFilters(){var n={};return Object.keys(this.filters).forEach(t=>{this.filters[t]&&(n[t]="%"+this.filters[t]+"%")},this),n}paginate(n=null,t=null){return Object(c.a)(this,void 0,void 0,function*(){(null!==n||null==n&&null==t)&&(this.concentrations=[],this._paginate.page=1),this.loading=!0,this.chemicalGroupService.get([],this.getFilters(),this._paginate).then(e=>Object(c.a)(this,void 0,void 0,function*(){this.total_of_data=e.concentrations.total,this._paginate.page=e.concentrations.current_page+1;for(let n of e.concentrations.data)this.concentrations.push(new s.a(n));this.loading=!1,n&&n.target.complete(),t&&t.target.complete()}),n=>{this.helperService.responseErrors(n)})})}remove(n,t){return Object(c.a)(this,void 0,void 0,function*(){let e=yield this.helperService.popover(t,"He is sure?",[{text:"back",color:"gray",value:!1},{text:"remove",color:"danger",value:!0}]);e.onDidDismiss().then(t=>{!0===t.data&&(this.helperService.loading("Removendo"),this.destroy(n))}),e.present()})}destroy(n){this.chemicalGroupService.destroy(n.id).then(t=>{if(!t.error){var e=this.concentrations.findIndex(t=>t.id==n.id);e>-1&&this.concentrations.splice(e,1)}this.helperService.toast(t.error?"warning":"success",t.message)},n=>{this.helperService.responseErrors(n)}).then(()=>this.helperService.loading_dismiss())}toggleSearch(){this.showFilter=!this.showFilter,this.showFilter&&setTimeout(()=>{this.search.setFocus()},100)}}return n.\u0275fac=function(t){return new(t||n)(l.Lb(a.a),l.Lb(b.a))},n.\u0275cmp=l.Fb({type:n,selectors:[["app-index"]],viewQuery:function(n,t){if(1&n&&(l.Ec(f,1),l.Ec(r.k,1),l.Ec(r.p,1)),2&n){let n;l.pc(n=l.ac())&&(t.search=n.first),l.pc(n=l.ac())&&(t.content=n.first),l.pc(n=l.ac())&&(t.infiniteScroll=n.first)}},decls:31,vars:11,consts:[["mode","ios"],["mode","ios","slot","start"],[3,"click"],["slot","end"],["mode","ios","color","white",3,"routerLink",4,"ifAuth"],["mode","ios",3,"color","click"],["name","funnel"],[1,"ion-no-padding"],["slot","fixed",1,"text-darkprimary",3,"ionRefresh"],["pullingText","Atualizar","refreshingSpinner","dots","refreshingText","Atualizando"],["lines","full","mode","ios",1,"no-border","mb-0"],["color","customer","mode","md",3,"hidden"],["debounce","250","mode","ios","placeholder","name ...",1,"p0","input-light",3,"ngModel","ngModelChange","ionChange"],["search",""],["mode","md"],["size","3"],["size","6"],[4,"ngFor","ngForOf"],[4,"ngIf"],["threshold","30px",3,"ionInfinite"],["loadingSpinner","none"],["class","no-border","text-center","",4,"ngIf"],["color","light","text-center","",4,"ngIf"],["mode","ios","color","white",3,"routerLink"],["name","add-circle"],["slidingItem",""],["size","3",1,"block","text-right"],["color","primary","class","text-center","expandable","",3,"routerLink",4,"ifAuth"],["color","danger","expandable","","class","text-center",3,"click",4,"ifAuth"],["color","primary","expandable","",1,"text-center",3,"routerLink"],["slot","start","name","create",1,"m0"],["color","danger","expandable","",1,"text-center",3,"click"],["slot","start","name","trash",1,"m0"],["animated","",2,"width","100%","height","50px"],["text-center","",1,"no-border"],[1,"text-center"],["color","medium","size","large","name","caret-up-circle-outline",1,"ion-float-end","mt-15",3,"hidden","click"],["color","medium",1,"p20"],["name","thumbs-up","color","medium"],["color","light","text-center",""],["padding-top","","padding-bottom",""]],template:function(n,t){1&n&&(l.Rb(0,"ion-header"),l.Rb(1,"ion-toolbar",0),l.Mb(2,"ion-menu-button",1),l.Rb(3,"ion-title",2),l.Zb("click",function(){return t.content.scrollToTop(500)}),l.zc(4,"Concentrations"),l.Qb(),l.Rb(5,"ion-buttons",3),l.xc(6,g,2,2,"ion-button",4),l.Rb(7,"ion-button",5),l.Zb("click",function(){return t.toggleSearch()}),l.Mb(8,"ion-icon",6),l.Qb(),l.Qb(),l.Qb(),l.Qb(),l.Rb(9,"ion-content",7),l.Rb(10,"ion-refresher",8),l.Zb("ionRefresh",function(n){return t.paginate(n)}),l.Mb(11,"ion-refresher-content",9),l.Qb(),l.Rb(12,"ion-row"),l.Rb(13,"ion-col",7),l.Rb(14,"ion-list",10),l.Rb(15,"ion-item-divider",11),l.Rb(16,"ion-col"),l.Rb(17,"ion-searchbar",12,13),l.Zb("ngModelChange",function(n){return t.filters.name=n})("ionChange",function(){return t.paginate()}),l.Qb(),l.Qb(),l.Qb(),l.Rb(19,"ion-item-divider",14),l.Rb(20,"ion-col",15),l.zc(21,"#Id"),l.Qb(),l.Rb(22,"ion-col",16),l.zc(23,"Name"),l.Qb(),l.Mb(24,"ion-col",15),l.Qb(),l.xc(25,w,9,10,"ion-item",17),l.xc(26,j,2,1,"ng-container",18),l.Rb(27,"ion-infinite-scroll",19),l.Zb("ionInfinite",function(n){return t.paginate(null,n)}),l.Mb(28,"ion-infinite-scroll-content",20),l.Qb(),l.xc(29,M,6,1,"ion-row",21),l.xc(30,S,4,0,"ion-row",22),l.Qb(),l.Qb(),l.Qb(),l.Qb()),2&n&&(l.zb(6),l.jc("ifAuth",l.mc(9,R,l.lc(8,y))),l.zb(1),l.kc("color",t.showFilter?"medium":"white"),l.zb(8),l.jc("hidden",!t.showFilter),l.zb(2),l.jc("ngModel",t.filters.name),l.zb(8),l.jc("ngForOf",t.concentrations),l.zb(1),l.jc("ngIf",t.loading),l.zb(3),l.jc("ngIf",t.total_of_data===t.concentrations.length&&t.total_of_data>0),l.zb(1),l.jc("ngIf",!t.loading&&!t.concentrations.length))},directives:[r.n,r.O,r.A,r.M,r.g,d.a,r.f,r.o,r.k,r.C,r.D,r.F,r.j,r.y,r.t,r.G,r.Z,u.g,u.h,h.k,h.l,r.p,r.q,r.Y,i.g,r.s,r.H,r.x],encapsulation:2}),n})()}];let F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.Jb({type:n}),n.\u0275inj=l.Ib({providers:[],imports:[[o.a,i.i.forChild(I)]]}),n})()}}]);
